"use strict";(self.webpackChunksera_test=self.webpackChunksera_test||[]).push([[189],{3189:function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(4165),a=n(5861),s=n(885),c=n(1044),i=n(2791),l=n(3513),o=n(7689),d=n(5725),u=n(1830),h=n.n(u),m="https://fe-technical-test.herokuapp.com/api",p=n(184),x=function(){var e=(0,i.useState)([]),t=(0,s.Z)(e,2),n=t[0],l=t[1],o=(0,i.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("".concat(m,"/articles"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}});case 3:t=e.sent,n=t.data,l(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("ERROR :",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);return(0,i.useEffect)((function(){o()}),[o]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"header bg-gradient-info pb-8 pt-5 pt-7",children:(0,p.jsx)(d.W2,{fluid:!0,children:(0,p.jsx)("div",{className:"header-body",children:(0,p.jsx)(d.X2,{children:(0,p.jsx)(d.JX,{lg:"6",xl:"3",children:(0,p.jsx)(d.Zb,{className:"card-stats mb-4 mb-xl-0",children:(0,p.jsx)(d.eW,{children:(0,p.jsxs)(d.X2,{children:[(0,p.jsxs)("div",{className:"col",children:[(0,p.jsx)(d.ll,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Article"}),(0,p.jsx)("span",{className:"h2 font-weight-bold mb-0",children:n.length})]}),(0,p.jsx)(d.JX,{className:"col-auto",children:(0,p.jsx)("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow",children:(0,p.jsx)("i",{className:"fas fa-chart-bar"})})})]})})})})})})})})})},f=function(){var e=(0,i.useState)([]),t=(0,s.Z)(e,2),n=t[0],u=t[1],f=(0,o.s0)(),g=(0,i.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("".concat(m,"/articles"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}});case 3:t=e.sent,n=t.data,u(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("ERROR :",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]),j=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.delete("".concat(m,"/articles/").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}});case 3:h().fire({position:"top-end",icon:"success",title:"Success Delete Article",showConfirmButton:!1,timer:5e3}),window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("ERROR :",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){g()}),[g]);var w=[{id:1,name:"Title",selector:function(e){return e.attributes.title},sortable:!0,reorder:!0},{id:2,name:"Content",selector:function(e){return e.attributes.content},sortable:!0,reorder:!0},{id:3,name:"CreatedAt",selector:function(e){return e.attributes.createdAt},sortable:!0,reorder:!0},{id:5,name:"Action",selector:function(e){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.zx,{color:"info",onClick:function(){return f("/admin/detail-article/"+e.id)},children:(0,p.jsx)("img",{src:"https://img.icons8.com/external-kmg-design-glyph-kmg-design/20/FFFFFF/external-view-user-interface-kmg-design-glyph-kmg-design.png",alt:"view",title:"View & Edit"})}),(0,p.jsx)(d.zx,{color:"danger",onClick:function(){return j(e.id)},children:(0,p.jsx)("img",{src:"https://img.icons8.com/wired/20/FFFFFF/filled-trash.png",alt:"delete",title:"Delete"})})]})},sortable:!0,reorder:!0}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x,{}),(0,p.jsx)(d.W2,{className:"mt--7",fluid:!0,children:(0,p.jsx)(d.X2,{children:(0,p.jsx)("div",{className:"col",children:(0,p.jsxs)(d.Zb,{className:"shadow",children:[(0,p.jsx)(d.Ol,{className:"border-0 progress-info",children:(0,p.jsx)(d.zx,{onClick:function(){return f("/admin/new-article")},color:"success",type:"button",children:"+ Create New Article"})}),(0,p.jsx)(l.ZP,{title:"List Article",columns:w,data:n,defaultSortFieldId:1,pagination:!0})]})})})})]})},g=function(){var e=(0,i.useState)([]),t=(0,s.Z)(e,2),n=t[0],l=t[1],u=(0,o.UO)().id,x=(0,i.useState)(""),f=(0,s.Z)(x,2),g=f[0],j=f[1],w=(0,i.useState)(""),b=(0,s.Z)(w,2),v=b[0],C=b[1],N=(0,i.useState)(!0),Z=(0,s.Z)(N,2),k=Z[0],y=Z[1],F=(0,i.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("".concat(m,"/articles/").concat(u),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}});case 3:t=e.sent,n=t.data,l(n.data.attributes),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("ERROR :",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[u]);return(0,i.useEffect)((function(){F()}),[F]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center",children:(0,p.jsx)("span",{className:"mask bg-gradient-default opacity-8"})}),(0,p.jsx)(d.W2,{className:"mt--7",fluid:!0,children:(0,p.jsx)(d.X2,{children:(0,p.jsx)(d.JX,{className:"order-xl-1",xl:"12",children:(0,p.jsxs)(d.Zb,{className:"bg-secondary shadow",children:[(0,p.jsx)(d.Ol,{className:"bg-white border-0",children:(0,p.jsx)(d.X2,{className:"align-items-center",children:(0,p.jsx)(d.JX,{xs:"8",children:(0,p.jsx)(d.zx,{color:"success",onClick:function(){return y(!1)},children:"Edit Data"})})})}),(0,p.jsx)(d.eW,{children:(0,p.jsxs)(d.l0,{children:[(0,p.jsx)("h6",{className:"heading-small text-muted mb-4",children:"Data Information"}),(0,p.jsx)("div",{className:"pl-lg-4",children:(0,p.jsxs)(d.X2,{children:[(0,p.jsx)(d.JX,{lg:"6",children:(0,p.jsxs)(d.cw,{children:[(0,p.jsx)("label",{className:"form-control-label",htmlFor:"input-title",children:"Title"}),(0,p.jsx)(d.II,{className:"form-control-alternative",disabled:k,id:"input-title",placeholder:"Title",type:"text",defaultValue:n.title,onChange:function(e){return j((function(){return e.target.value}))}})]})}),(0,p.jsx)(d.JX,{lg:"6",children:(0,p.jsxs)(d.cw,{children:[(0,p.jsx)("label",{className:"form-control-label",htmlFor:"input-first-name",children:"Content"}),(0,p.jsx)(d.II,{className:"form-control-alternative",disabled:k,id:"input-content",placeholder:"Content",type:"text",defaultValue:n.content,onChange:function(e){return C((function(){return e.target.value}))}})]})})]})}),(0,p.jsxs)("div",{className:"pl-lg-6",children:[(0,p.jsx)("hr",{className:"my-4"}),(0,p.jsx)(d.X2,{className:"justify-content-end",children:(0,p.jsx)(d.JX,{lg:"3",children:(0,p.jsx)(d.zx,{color:"success",onClick:function(){var e={data:{title:g,content:v}},t={Authorization:"Bearer ".concat(localStorage.getItem("token")),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};c.Z.put("".concat(m,"/articles/").concat(u),e,{headers:t}).then((function(e){200===e.status?h().fire({position:"top-end",icon:"success",title:"Success Update Article",showConfirmButton:!1,timer:5e3}):h().fire({position:"top-end",icon:"error",title:"Failed Update Article",showConfirmButton:!1,timer:5e3})})).catch((function(e){console.log(e)}))},children:"Save Change"})})})]})]})})]})})})})]})},j=function(){var e=(0,i.useState)([]),t=(0,s.Z)(e,2),n=t[0],u=t[1],f=(0,o.s0)(),g=(0,i.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("".concat(m,"/articles"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}});case 3:t=e.sent,n=t.data,u(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("ERROR :",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]),j=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.delete("".concat(m,"/articles/").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}});case 3:h().fire({position:"top-end",icon:"success",title:"Success Delete Article",showConfirmButton:!1,timer:5e3}),window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("ERROR :",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){g()}),[g]);var w=[{id:1,name:"Title",selector:function(e){return e.attributes.title},sortable:!0,reorder:!0},{id:2,name:"Content",selector:function(e){return e.attributes.content},sortable:!0,reorder:!0},{id:3,name:"CreatedAt",selector:function(e){return e.attributes.createdAt},sortable:!0,reorder:!0},{id:5,name:"Action",selector:function(e){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.zx,{color:"info",onClick:function(){return f("/admin/detail-article/"+e.id)},children:(0,p.jsx)("img",{src:"https://img.icons8.com/external-kmg-design-glyph-kmg-design/20/FFFFFF/external-view-user-interface-kmg-design-glyph-kmg-design.png",alt:"view",title:"View & Edit"})}),(0,p.jsx)(d.zx,{color:"danger",onClick:function(){return j(e.id)},children:(0,p.jsx)("img",{src:"https://img.icons8.com/wired/20/FFFFFF/filled-trash.png",alt:"delete",title:"Delete"})})]})},sortable:!0,reorder:!0}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x,{}),(0,p.jsx)(d.W2,{className:"mt--7",fluid:!0,children:(0,p.jsx)(d.X2,{children:(0,p.jsx)("div",{className:"col",children:(0,p.jsxs)(d.Zb,{className:"shadow",children:[(0,p.jsx)(d.Ol,{className:"border-0 progress-info",children:(0,p.jsx)(d.zx,{onClick:function(){return f("/admin/new-article")},color:"success",type:"button",children:"+ Create New Article"})}),(0,p.jsx)(l.ZP,{title:"List Article",columns:w,data:n,defaultSortFieldId:1,pagination:!0})]})})})})]})},w=function(){var e=(0,i.useState)(""),t=(0,s.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)(""),l=(0,s.Z)(a,2),u=l[0],x=l[1],f=(0,o.s0)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.JX,{lg:"5",md:"7",children:(0,p.jsx)(d.Zb,{className:"bg-secondary shadow border-0",children:(0,p.jsxs)(d.eW,{className:"px-lg-5 py-lg-5",children:[(0,p.jsxs)(d.l0,{role:"form",children:[(0,p.jsx)(d.cw,{className:"mb-3",children:(0,p.jsx)(d.BZ,{className:"input-group-alternative",children:(0,p.jsx)(d.II,{placeholder:"Username/Email",type:"text",autoComplete:"new-username",value:n,onChange:function(e){return r((function(){return e.target.value}))}})})}),(0,p.jsx)(d.cw,{children:(0,p.jsx)(d.BZ,{className:"input-group-alternative",children:(0,p.jsx)(d.II,{placeholder:"Password",type:"password",autoComplete:"new-password",value:u,onChange:function(e){return x((function(){return e.target.value}))}})})}),(0,p.jsx)("div",{className:"text-center",children:(0,p.jsx)(d.zx,{className:"my-4",color:"primary",type:"button",onClick:function(){var e={identifier:n,password:u};c.Z.post("".concat(m,"/auth/local"),e).then((function(e){200===e.status?(localStorage.setItem("token",e.data.jwt),localStorage.setItem("authentihated",!0),f("/admin/index")):h().fire({position:"top-end",icon:"error",title:"Username/Password Salah",showConfirmButton:!1,timer:5e3})})).catch((function(e){h().fire({position:"top-end",icon:"error",title:e.response.data.error.message,showConfirmButton:!1,timer:5e3})}))},children:"Sign in"})})]}),(0,p.jsx)("div",{className:"cursor-pointer",onClick:function(){return f("/auth/register")},children:(0,p.jsx)("small",{children:"Create new account"})})]})})})})},b=function(){var e=(0,i.useState)(""),t=(0,s.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)(""),l=(0,s.Z)(a,2),u=l[0],x=l[1],f=(0,o.s0)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center",children:(0,p.jsx)("span",{className:"mask bg-gradient-default opacity-8"})}),(0,p.jsx)(d.W2,{className:"mt--7",fluid:!0,children:(0,p.jsx)(d.X2,{children:(0,p.jsx)(d.JX,{className:"order-xl-1",xl:"12",children:(0,p.jsxs)(d.Zb,{className:"bg-secondary shadow",children:[(0,p.jsx)(d.Ol,{className:"bg-white border-0",children:(0,p.jsx)(d.X2,{className:"align-items-center",children:(0,p.jsx)(d.JX,{xs:"8",children:(0,p.jsx)("h3",{className:"mb-0",children:"Crate New Article"})})})}),(0,p.jsx)(d.eW,{children:(0,p.jsxs)(d.l0,{children:[(0,p.jsx)("h6",{className:"heading-small text-muted mb-4",children:"Data Information"}),(0,p.jsx)("div",{className:"pl-lg-4",children:(0,p.jsxs)(d.X2,{children:[(0,p.jsx)(d.JX,{lg:"6",children:(0,p.jsxs)(d.cw,{children:[(0,p.jsx)("label",{className:"form-control-label",htmlFor:"input-title",children:"Title"}),(0,p.jsx)(d.II,{className:"form-control-alternative",id:"input-title",placeholder:"Title",type:"text",value:n,onChange:function(e){return r((function(){return e.target.value}))}})]})}),(0,p.jsx)(d.JX,{lg:"6",children:(0,p.jsxs)(d.cw,{children:[(0,p.jsx)("label",{className:"form-control-label",htmlFor:"input-first-name",children:"Content"}),(0,p.jsx)(d.II,{className:"form-control-alternative",id:"input-content",placeholder:"Content",type:"text",value:u,onChange:function(e){return x((function(){return e.target.value}))}})]})})]})}),(0,p.jsxs)("div",{className:"pl-lg-6",children:[(0,p.jsx)("hr",{className:"my-4"}),(0,p.jsx)(d.X2,{className:"justify-content-end",children:(0,p.jsx)(d.JX,{lg:"3",children:(0,p.jsx)(d.zx,{color:"success",onClick:function(){var e={data:{title:n,content:u}},t={Authorization:"Bearer ".concat(localStorage.getItem("token")),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};c.Z.post("".concat(m,"/articles"),e,{headers:t}).then((function(e){200===e.status?(h().fire({position:"top-end",icon:"success",title:"Success Create Article",showConfirmButton:!1,timer:5e3}),f("/admin/article")):h().fire({position:"top-end",icon:"error",title:"Failed Create Article",showConfirmButton:!1,timer:5e3})})).catch((function(e){console.log(e)}))},children:"Save Data"})})})]})]})})]})})})})]})},v=n(7025),C=function(){var e=(0,i.useState)(""),t=(0,s.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)(""),l=(0,s.Z)(a,2),u=l[0],x=l[1],f=(0,i.useState)(""),g=(0,s.Z)(f,2),j=g[0],w=g[1],b=(0,o.s0)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.JX,{lg:"5",md:"7",children:(0,p.jsx)(d.Zb,{className:"bg-secondary shadow border-0",children:(0,p.jsxs)(d.eW,{className:"px-lg-5 py-lg-5",children:[(0,p.jsxs)(d.l0,{role:"form",children:[(0,p.jsx)(d.cw,{className:"mb-3",children:(0,p.jsx)(d.BZ,{className:"input-group-alternative",children:(0,p.jsx)(d.II,{placeholder:"Username",type:"text",autoComplete:"new-username",value:n,onChange:function(e){return r((function(){return e.target.value}))}})})}),(0,p.jsx)(d.cw,{className:"mb-3",children:(0,p.jsx)(d.BZ,{className:"input-group-alternative",children:(0,p.jsx)(d.II,{placeholder:"Email",type:"email",autoComplete:"new-email",value:u,onChange:function(e){return x((function(){return e.target.value}))}})})}),(0,p.jsx)(d.cw,{children:(0,p.jsx)(d.BZ,{className:"input-group-alternative",children:(0,p.jsx)(d.II,{placeholder:"Password",type:"password",autoComplete:"new-password",value:j,onChange:function(e){return w((function(){return e.target.value}))}})})}),(0,p.jsx)("div",{className:"text-center",children:(0,p.jsx)(d.zx,{className:"my-4",color:"primary",type:"button",onClick:function(){var e={username:n,email:u,password:j};c.Z.post("".concat(m,"/auth/local/register"),e).then((function(e){200===e.status?(h().fire({position:"top-end",icon:"success",title:"Berhasil membuat akun, silahkan login",showConfirmButton:!1,timer:5e3}),b("/auth/login"),console.log(e)):h().fire({position:"top-end",icon:"error",title:"Password Tidak Cocok",showConfirmButton:!1,timer:5e3})})).catch((function(e){h().fire({position:"top-end",icon:"error",title:e.response.data.error.message,showConfirmButton:!1,timer:5e3})}))},children:"Sign in"})}),(0,p.jsx)(v.Z,{rules:["minLength","specialChar","number","capital"],minLength:8,value:j,onChange:function(e){}})]}),(0,p.jsx)("div",{className:"cursor-pointer",onClick:function(){return b("/auth/login")},children:(0,p.jsx)("small",{children:"Have account? Login"})})]})})})})},N=[{path:"/index",name:"Dashboard",icon:"dashboard",component:(0,p.jsx)(j,{}),layout:"/admin",brand:"Dashboard"},{path:"/article",name:"Article",icon:"article",component:(0,p.jsx)(f,{}),layout:"/admin",brand:"List Article"},{path:"/new-article",name:"Create Article",icon:"article",component:(0,p.jsx)(b,{}),layout:"/admin",brand:"Create New Article"},{path:"/detail-article/:id",name:"Detail Article",icon:"article",component:(0,p.jsx)(g,{}),layout:"/admin",brand:"Detail Article"},{path:"/login",component:(0,p.jsx)(w,{}),layout:"/auth"},{path:"/register",component:(0,p.jsx)(C,{}),layout:"/auth"}]}}]);
//# sourceMappingURL=189.83f0e759.chunk.js.map