{"ast":null,"code":"import _regeneratorRuntime from\"/Users/IrfanFath/Documents/sera-test/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/IrfanFath/Documents/sera-test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/IrfanFath/Documents/sera-test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useCallback,useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{Button,Card,CardHeader,CardBody,FormGroup,Form,Input,Container,Row,Col}from\"reactstrap\";import Swal from\"sweetalert2\";import{base}from\"../api/base\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DetailArticle=function DetailArticle(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useParams=useParams(),id=_useParams.id;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),disabled=_useState8[0],setDisabled=_useState8[1];var fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(base,\"/articles/\").concat(id),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\")),Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded; charset=UTF-8\"}});case 3:_yield$axios$get=_context.sent;response=_yield$axios$get.data;setData(response.data.attributes);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"ERROR :\",_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})),[id]);var updateData=function updateData(){var data={data:{\"title\":title,\"content\":content}};var headers={Authorization:\"Bearer \".concat(localStorage.getItem(\"token\")),Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded; charset=UTF-8\"};axios.put(\"\".concat(base,\"/articles/\").concat(id),data,{headers:headers}).then(function(res){if(res.status===200){Swal.fire({position:'top-end',icon:'success',title:\"Success Update Article\",showConfirmButton:false,timer:5000});}else{Swal.fire({position:'top-end',icon:'error',title:\"Failed Update Article\",showConfirmButton:false,timer:5000});}}).catch(function(err){console.log(err);});};useEffect(function(){fetchData();},[fetchData]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"header pb-8 pt-5 pt-lg-8 d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"mask bg-gradient-default opacity-8\"})}),/*#__PURE__*/_jsx(Container,{className:\"mt--7\",fluid:true,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"order-xl-1\",xl:\"12\",children:/*#__PURE__*/_jsxs(Card,{className:\"bg-secondary shadow\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"bg-white border-0\",children:/*#__PURE__*/_jsx(Row,{className:\"align-items-center\",children:/*#__PURE__*/_jsx(Col,{xs:\"8\",children:/*#__PURE__*/_jsx(Button,{color:\"success\",onClick:function onClick(){return setDisabled(false);},children:\"Edit Data\"})})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"heading-small text-muted mb-4\",children:\"Data Information\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pl-lg-4\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label\",htmlFor:\"input-title\",children:\"Title\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control-alternative\",disabled:disabled,id:\"input-title\",placeholder:\"Title\",type:\"text\",defaultValue:data.title,onChange:function onChange(e){return setTitle(function(){return e.target.value;});}})]})}),/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label\",htmlFor:\"input-first-name\",children:\"Content\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control-alternative\",disabled:disabled,id:\"input-content\",placeholder:\"Content\",type:\"text\",defaultValue:data.content,onChange:function onChange(e){return setContent(function(){return e.target.value;});}})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pl-lg-6\",children:[/*#__PURE__*/_jsx(\"hr\",{className:\"my-4\"}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-end\",children:/*#__PURE__*/_jsx(Col,{lg:\"3\",children:/*#__PURE__*/_jsx(Button,{color:\"success\",onClick:updateData,children:\"Save Change\"})})})]})]})})]})})})})]});};export default DetailArticle;","map":{"version":3,"names":["axios","useCallback","useEffect","useState","useParams","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","Container","Row","Col","Swal","base","DetailArticle","data","setData","id","title","setTitle","content","setContent","disabled","setDisabled","fetchData","get","headers","Authorization","localStorage","getItem","Accept","response","attributes","console","error","message","updateData","put","then","res","status","fire","position","icon","showConfirmButton","timer","catch","err","log","e","target","value"],"sources":["/Users/IrfanFath/Documents/sera-test/src/views/DetailArticle.js"],"sourcesContent":["import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {\n    Button,\n    Card,\n    CardHeader,\n    CardBody,\n    FormGroup,\n    Form,\n    Input,\n    Container,\n    Row,\n    Col\n  } from \"reactstrap\";\nimport Swal from \"sweetalert2\";\nimport { base } from \"../api/base\";\n\n  \n  const DetailArticle = () => {\n    const [data, setData] = useState([]);\n    const { id } = useParams()\n    const [title, setTitle] = useState(\"\");\n    const [content, setContent] = useState(\"\");\n    const [disabled, setDisabled] = useState(true);\n\n    const fetchData = useCallback(async () => {\n        try {\n            const { data: response } = await axios.get(`${base}/articles/${id}`, {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n                },\n            });\n            setData(response.data.attributes);\n        } catch (error) {\n            console.error(\"ERROR :\", error.message);\n        }\n    }, [id]);\n\n    const updateData = () => {\n        const data = {\n          data: {\n            \"title\" : title,\n            \"content\": content\n          }\n        }\n        const headers = {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n        }\n        axios.put(`${base}/articles/${id}`, data, {\n          headers: headers,\n        })\n        .then((res) => {\n          if(res.status === 200){\n            Swal.fire({\n                position: 'top-end',\n                icon: 'success',\n                title: \"Success Update Article\",\n                showConfirmButton: false,\n                timer: 5000\n              })\n          } else {\n            Swal.fire({\n              position: 'top-end',\n              icon: 'error',\n              title: \"Failed Update Article\",\n              showConfirmButton: false,\n              timer: 5000\n            })\n          }\n        }).catch((err) => {\n            console.log(err)\n        });      \n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [fetchData]);\n\n    return (\n      <>\n        <div className=\"header pb-8 pt-5 pt-lg-8 d-flex align-items-center\">\n          <span className=\"mask bg-gradient-default opacity-8\" />\n        </div>\n        {/* Page content */}\n        <Container className=\"mt--7\" fluid>\n          <Row>\n            <Col className=\"order-xl-1\" xl=\"12\">\n              <Card className=\"bg-secondary shadow\">\n                <CardHeader className=\"bg-white border-0\">\n                  <Row className=\"align-items-center\">\n                    <Col xs=\"8\">\n                      <Button color=\"success\" onClick={()=> setDisabled(false) }>Edit Data</Button>\n                    </Col>\n                  </Row>\n                </CardHeader>\n                <CardBody>\n                  <Form>\n                    <h6 className=\"heading-small text-muted mb-4\">Data Information</h6>\n                    <div className=\"pl-lg-4\">\n                      <Row>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-title\"\n                            >\n                              Title\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              disabled={disabled}\n                              id=\"input-title\"\n                              placeholder=\"Title\"\n                              type=\"text\"\n                              defaultValue={data.title}\n                              onChange={(e) => setTitle(() => e.target.value)}\n                            />\n                          </FormGroup>\n                        </Col>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-first-name\"\n                            >\n                              Content\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              disabled={disabled}\n                              id=\"input-content\"\n                              placeholder=\"Content\"\n                              type=\"text\"\n                              defaultValue={data.content}\n                              onChange={(e) => setContent(() => e.target.value)}\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                    </div>\n                    <div className=\"pl-lg-6\">\n                      <hr className=\"my-4\" />\n                      <Row className=\"justify-content-end\">\n                        <Col lg=\"3\">\n                            <Button\n                                color=\"success\"\n                                onClick={updateData}\n                                >\n                            Save Change\n                            </Button>\n                        </Col>\n                      </Row>\n                    </div>\n                  </Form>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </>\n    );\n  };\n  \n  export default DetailArticle;\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}