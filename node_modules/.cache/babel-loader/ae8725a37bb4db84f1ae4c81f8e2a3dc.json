{"ast":null,"code":"import _regeneratorRuntime from\"/Users/IrfanFath/Documents/sera-test/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/IrfanFath/Documents/sera-test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/IrfanFath/Documents/sera-test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useCallback,useEffect,useState}from\"react\";import DataTable from\"react-data-table-component\";import{useNavigate}from\"react-router-dom\";import{Card,CardHeader,Container,Row,Button}from\"reactstrap\";import Swal from\"sweetalert2\";import{base}from\"../api/base.js\";// core components\nimport Header from\"../components/Headers/Header.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var navigate=useNavigate();var fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(base,\"/articles\"),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\")),Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded; charset=UTF-8\"}});case 3:_yield$axios$get=_context.sent;response=_yield$axios$get.data;setData(response.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"ERROR :\",_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})),[]);var deleteData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"\".concat(base,\"/articles/\").concat(id),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\")),Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded; charset=UTF-8\"}});case 3:Swal.fire({position:'top-end',icon:'success',title:\"Success Delete Article\",showConfirmButton:false,timer:5000});window.location.reload();_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(\"ERROR :\",_context2.t0.message);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function deleteData(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchData();},[fetchData]);var columns=[{id:1,name:\"Title\",selector:function selector(row){return row.attributes.title;},sortable:true,reorder:true},{id:2,name:\"Content\",selector:function selector(row){return row.attributes.content;},sortable:true,reorder:true},{id:3,name:\"CreatedAt\",selector:function selector(row){return row.attributes.createdAt;},sortable:true,reorder:true},{id:5,name:\"Action\",selector:function selector(row){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{color:\"info\",onClick:function onClick(){return navigate('/admin/detail-article/'+row.id);},children:/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/external-kmg-design-glyph-kmg-design/20/FFFFFF/external-view-user-interface-kmg-design-glyph-kmg-design.png\",alt:\"view\",title:\"View & Edit\"})}),/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(){return deleteData(row.id);},children:/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/wired/20/FFFFFF/filled-trash.png\",alt:\"delete\",title:\"Delete\"})})]});},sortable:true,reorder:true}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Container,{className:\"mt--7\",fluid:true,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(Card,{className:\"shadow\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"border-0 progress-info\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return navigate('/admin/new-article');},color:\"success\",type:\"button\",children:\"+ Create New Article\"})}),/*#__PURE__*/_jsx(DataTable,{title:\"List Article\",columns:columns,data:data,defaultSortFieldId:1,pagination:true})]})})})})]});};export default Index;","map":{"version":3,"names":["axios","useCallback","useEffect","useState","DataTable","useNavigate","Card","CardHeader","Container","Row","Button","Swal","base","Header","Index","data","setData","navigate","fetchData","get","headers","Authorization","localStorage","getItem","Accept","response","console","error","message","deleteData","id","delete","fire","position","icon","title","showConfirmButton","timer","window","location","reload","columns","name","selector","row","attributes","sortable","reorder","content","createdAt"],"sources":["/Users/IrfanFath/Documents/sera-test/src/views/Index.js"],"sourcesContent":["import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport DataTable from \"react-data-table-component\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n    Card,\n    CardHeader,\n    Container,\n    Row,\n    Button\n  } from \"reactstrap\";\nimport Swal from \"sweetalert2\";\nimport { base } from \"../api/base.js\";\n  // core components\nimport Header from \"../components/Headers/Header.js\";\n  \n  const Index = () => {\n    const [data, setData] = useState([]);\n\n    const navigate = useNavigate()\n\n    const fetchData = useCallback(async () => {\n        try {\n            const { data: response } = await axios.get(`${base}/articles`, {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n                },\n            });\n            setData(response.data);\n        } catch (error) {\n            console.error(\"ERROR :\", error.message);\n        }\n    }, []);\n\n\n    const deleteData = async (id) => {\n      try {\n        await axios.delete(`${base}/articles/${id}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n          },\n        });\n        Swal.fire({\n          position: 'top-end',\n          icon: 'success',\n          title: \"Success Delete Article\",\n          showConfirmButton: false,\n          timer: 5000\n        });\n        window.location.reload()\n      } catch (error) {\n          console.error(\"ERROR :\", error.message);\n      }\n    };\n\n    useEffect(() => {\n        fetchData();\n    }, [fetchData]);\n\n    const columns = [\n      {\n        id: 1,\n        name: \"Title\",\n        selector: (row) => row.attributes.title,\n        sortable: true,\n        reorder: true\n      },\n      {\n        id: 2,\n        name: \"Content\",\n        selector: (row) => row.attributes.content,\n        sortable: true,\n        reorder: true\n      },\n      {\n        id: 3,\n        name: \"CreatedAt\",\n        selector: (row) => row.attributes.createdAt,\n        sortable: true,\n        reorder: true\n      },\n      {\n        id: 5,\n        name: \"Action\",\n        selector: (row) =><><Button color=\"info\" onClick={()=>navigate('/admin/detail-article/'+row.id)}><img src=\"https://img.icons8.com/external-kmg-design-glyph-kmg-design/20/FFFFFF/external-view-user-interface-kmg-design-glyph-kmg-design.png\" alt=\"view\" title=\"View & Edit\"/></Button><Button color=\"danger\" onClick={()=>deleteData(row.id)}><img src=\"https://img.icons8.com/wired/20/FFFFFF/filled-trash.png\" alt=\"delete\" title=\"Delete\"/></Button></>,\n        sortable: true,\n        reorder: true\n      }\n    ];\n    \n\n    return (\n      <>\n        <Header />\n        <Container className=\"mt--7\" fluid>\n          <Row>\n            <div className=\"col\">\n              <Card className=\"shadow\">\n                <CardHeader className=\"border-0 progress-info\">\n                  <Button onClick={()=>navigate('/admin/new-article')} color=\"success\" type=\"button\">&#43; Create New Article</Button>\n                  </CardHeader>\n                <DataTable\n                  title=\"List Article\"\n                  columns={columns}\n                  data={data}\n                  defaultSortFieldId={1}\n                  pagination\n                />\n              </Card>\n            </div>\n          </Row>\n        </Container>\n      </>\n    );\n  };\n  \n  export default Index;\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}