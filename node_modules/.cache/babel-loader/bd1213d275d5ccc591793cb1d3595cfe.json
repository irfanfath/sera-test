{"ast":null,"code":"import _slicedToArray from\"/Users/IrfanFath/Documents/sera-test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{Button,Card,CardBody,FormGroup,Form,Input,InputGroup,Col}from\"reactstrap\";import Swal from\"sweetalert2\";import{base}from\"../api/base\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),identifier=_useState2[0],setIdentifier=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var handleLogin=function handleLogin(){var data={\"identifier\":identifier,\"password\":password};axios.post(\"\".concat(base,\"/auth/local\"),data).then(function(res){if(res.status===200){localStorage.setItem(\"token\",res.data.jwt);localStorage.setItem(\"authentihated\",true);navigate('/admin/index');}else{Swal.fire({position:'top-end',icon:'error',title:\"Username/Password Salah\",showConfirmButton:false,timer:5000});}}).catch(function(err){Swal.fire({position:'top-end',icon:'error',title:err.response.data.error.message,showConfirmButton:false,timer:5000});});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Col,{lg:\"5\",md:\"7\",children:/*#__PURE__*/_jsx(Card,{className:\"bg-secondary shadow border-0\",children:/*#__PURE__*/_jsxs(CardBody,{className:\"px-lg-5 py-lg-5\",children:[/*#__PURE__*/_jsxs(Form,{role:\"form\",children:[/*#__PURE__*/_jsx(FormGroup,{className:\"mb-3\",children:/*#__PURE__*/_jsx(InputGroup,{className:\"input-group-alternative\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"Username/Email\",type:\"text\",autoComplete:\"new-username\",value:identifier,onChange:function onChange(e){return setIdentifier(function(){return e.target.value;});}})})}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(InputGroup,{className:\"input-group-alternative\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"Password\",type:\"password\",autoComplete:\"new-password\",value:password,onChange:function onChange(e){return setPassword(function(){return e.target.value;});}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{className:\"my-4\",color:\"primary\",type:\"button\",onClick:handleLogin,children:\"Sign in\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer\",onClick:function onClick(){return navigate('/auth/register');},children:/*#__PURE__*/_jsx(\"small\",{children:\"Create new account\"})})]})})})});};export default Login;","map":{"version":3,"names":["axios","useState","useNavigate","Button","Card","CardBody","FormGroup","Form","Input","InputGroup","Col","Swal","base","Login","identifier","setIdentifier","password","setPassword","navigate","handleLogin","data","post","then","res","status","localStorage","setItem","jwt","fire","position","icon","title","showConfirmButton","timer","catch","err","response","error","message","e","target","value"],"sources":["/Users/IrfanFath/Documents/sera-test/src/views/Login.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n    Button,\n    Card,\n    CardBody,\n    FormGroup,\n    Form,\n    Input,\n    InputGroup,\n    Col\n  } from \"reactstrap\";\nimport Swal from \"sweetalert2\";\nimport { base } from \"../api/base\";\n  \n  const Login = () => {\n    const [identifier, setIdentifier] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const navigate = useNavigate()\n\n    const handleLogin = () => {\n        const data = {\n          \"identifier\" : identifier,\n          \"password\": password\n        }\n        axios.post(`${base}/auth/local`, data)\n        .then((res) => {\n          if(res.status === 200){\n              localStorage.setItem(\"token\", res.data.jwt);\n              localStorage.setItem(\"authentihated\", true);\n              navigate('/admin/index')\n          } else {\n            Swal.fire({\n              position: 'top-end',\n              icon: 'error',\n              title: \"Username/Password Salah\",\n              showConfirmButton: false,\n              timer: 5000\n            })\n          }\n        }).catch((err) => {\n            Swal.fire({\n              position: 'top-end',\n              icon: 'error',\n              title: err.response.data.error.message,\n              showConfirmButton: false,\n              timer: 5000\n            })\n        });      \n    }\n\n    return (\n      <>\n        <Col lg=\"5\" md=\"7\">\n          <Card className=\"bg-secondary shadow border-0\">\n            <CardBody className=\"px-lg-5 py-lg-5\">\n              <Form role=\"form\">\n                <FormGroup className=\"mb-3\">\n                  <InputGroup className=\"input-group-alternative\">\n                   <Input\n                    placeholder=\"Username/Email\"\n                    type=\"text\"\n                    autoComplete=\"new-username\"\n                    value={identifier}\n                    onChange={(e) => setIdentifier(() => e.target.value)}\n                   />\n                  </InputGroup>\n                </FormGroup>\n                <FormGroup>\n                  <InputGroup className=\"input-group-alternative\">\n                    <Input\n                        placeholder=\"Password\"\n                        type=\"password\"\n                        autoComplete=\"new-password\"\n                        value={password}\n                        onChange={(e) => setPassword(() => e.target.value)}\n                    /> \n                  </InputGroup>\n                </FormGroup>\n                <div className=\"text-center\">\n                  <Button className=\"my-4\" color=\"primary\" type=\"button\" onClick={handleLogin}>\n                    Sign in\n                  </Button>\n                </div>\n              </Form>\n              <div\n                className=\"cursor-pointer\"\n                onClick={()=>navigate('/auth/register')}\n              >\n                <small>Create new account</small>\n              </div>\n            </CardBody>\n          </Card>\n        </Col>\n      </>\n    );\n  };\n  \n  export default Login;\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}