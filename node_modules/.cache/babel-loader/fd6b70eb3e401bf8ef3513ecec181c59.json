{"ast":null,"code":"import _regeneratorRuntime from\"/Users/IrfanFath/Documents/sera-test/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/IrfanFath/Documents/sera-test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/IrfanFath/Documents/sera-test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useCallback,useEffect,useState}from\"react\";// reactstrap components\nimport{Card,CardBody,CardTitle,Container,Row,Col}from\"reactstrap\";import{base}from\"../../api/base\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=function Header(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(base,\"/articles\"),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\")),Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded; charset=UTF-8\"}});case 3:_yield$axios$get=_context.sent;response=_yield$axios$get.data;setData(response.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"ERROR :\",_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})),[]);useEffect(function(){fetchData();},[fetchData]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"header bg-gradient-info pb-8 pt-5 pt-7\",children:/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"header-body\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:\"6\",xl:\"3\",children:/*#__PURE__*/_jsx(Card,{className:\"card-stats mb-4 mb-xl-0\",children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(CardTitle,{tag:\"h5\",className:\"text-uppercase text-muted mb-0\",children:\"Article\"}),/*#__PURE__*/_jsx(\"span\",{className:\"h2 font-weight-bold mb-0\",children:data.length})]}),/*#__PURE__*/_jsx(Col,{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"icon icon-shape bg-danger text-white rounded-circle shadow\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-bar\"})})})]})})})})})})})})});};export default Header;","map":{"version":3,"names":["axios","React","useCallback","useEffect","useState","Card","CardBody","CardTitle","Container","Row","Col","base","Header","data","setData","fetchData","get","headers","Authorization","localStorage","getItem","Accept","response","console","error","message","length"],"sources":["/Users/IrfanFath/Documents/sera-test/src/components/Headers/Header.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useCallback, useEffect, useState } from \"react\";\n\n// reactstrap components\nimport { Card, CardBody, CardTitle, Container, Row, Col } from \"reactstrap\";\nimport { base } from \"../../api/base\";\n\nconst Header = () => {\n  const [data, setData] = useState([]);\n\n    const fetchData = useCallback(async () => {\n        try {\n            const { data: response } = await axios.get(`${base}/articles`, {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n                },\n            });\n            setData(response.data);\n        } catch (error) {\n            console.error(\"ERROR :\", error.message);\n        }\n    }, []);\n\n    useEffect(() => {\n        fetchData();\n    }, [fetchData]);\n\n    return (\n      <>\n        <div className=\"header bg-gradient-info pb-8 pt-5 pt-7\">\n          <Container fluid>\n            <div className=\"header-body\">\n              {/* Card stats */}\n              <Row>\n                <Col lg=\"6\" xl=\"3\">\n                  <Card className=\"card-stats mb-4 mb-xl-0\">\n                    <CardBody>\n                      <Row>\n                        <div className=\"col\">\n                          <CardTitle\n                            tag=\"h5\"\n                            className=\"text-uppercase text-muted mb-0\"\n                          >\n                            Article\n                          </CardTitle>\n                          <span className=\"h2 font-weight-bold mb-0\">\n                            {data.length}\n                          </span>\n                        </div>\n                        <Col className=\"col-auto\">\n                          <div className=\"icon icon-shape bg-danger text-white rounded-circle shadow\">\n                            <i className=\"fas fa-chart-bar\" />\n                          </div>\n                        </Col>\n                      </Row>\n                    </CardBody>\n                  </Card>\n                </Col>\n              </Row>\n            </div>\n          </Container>\n        </div>\n      </>\n    );\n}\n\nexport default Header;\n"],"mappings":"8XAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,EAAIC,WAAW,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE/D;AACA,OAASC,IAAI,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,SAAS,CAAEC,GAAG,CAAEC,GAAG,KAAQ,YAAY,CAC3E,OAASC,IAAI,KAAQ,gBAAgB,CAAC,6IAEtC,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CACnB,cAAwBR,QAAQ,CAAC,EAAE,CAAC,wCAA7BS,IAAI,eAAEC,OAAO,eAElB,GAAMC,UAAS,CAAGb,WAAW,wEAAC,yMAEWF,MAAK,CAACgB,GAAG,WAAIL,IAAI,cAAa,CAC3DM,OAAO,CAAE,CACLC,aAAa,kBAAYC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE,CACxDC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kDACpB,CACJ,CAAC,CAAC,uCANYC,QAAQ,kBAAdT,IAAI,CAOZC,OAAO,CAACQ,QAAQ,CAACT,IAAI,CAAC,CAAC,+EAEvBU,OAAO,CAACC,KAAK,CAAC,SAAS,CAAE,YAAMC,OAAO,CAAC,CAAC,oEAE/C,GAAE,EAAE,CAAC,CAENtB,SAAS,CAAC,UAAM,CACZY,SAAS,EAAE,CACf,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,mBACE,sCACE,YAAK,SAAS,CAAC,wCAAwC,uBACrD,KAAC,SAAS,EAAC,KAAK,4BACd,YAAK,SAAS,CAAC,aAAa,uBAE1B,KAAC,GAAG,wBACF,KAAC,GAAG,EAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,uBAChB,KAAC,IAAI,EAAC,SAAS,CAAC,yBAAyB,uBACvC,KAAC,QAAQ,wBACP,MAAC,GAAG,yBACF,aAAK,SAAS,CAAC,KAAK,wBAClB,KAAC,SAAS,EACR,GAAG,CAAC,IAAI,CACR,SAAS,CAAC,gCAAgC,qBAGhC,cACZ,aAAM,SAAS,CAAC,0BAA0B,UACvCF,IAAI,CAACa,MAAM,EACP,GACH,cACN,KAAC,GAAG,EAAC,SAAS,CAAC,UAAU,uBACvB,YAAK,SAAS,CAAC,4DAA4D,uBACzE,UAAG,SAAS,CAAC,kBAAkB,EAAG,EAC9B,EACF,GACF,EACG,EACN,EACH,EACF,EACF,EACI,EACR,EACL,CAET,CAAC,CAED,cAAed,OAAM"},"metadata":{},"sourceType":"module"}